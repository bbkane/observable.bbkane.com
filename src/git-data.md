---
title: Ben's Git Data
---

```js
import * as Inputs from "npm:@observablehq/inputs";
import * as ct from "./components/commit_times.js";
```

# Git Data

```js
const repoData = FileAttachment("data/repos.json").json()
const gitCommits = FileAttachment("data/git-commits.tsv").tsv({typed: true});
```

A small analysis of the projects I work on and how I work on them. Most of these are public on [my GitHub](https://github.com/bbkane/). Some caveats to remember...

- Commits do not strictly represent effort. A single commit can be one line or one thousand lines, and those lines could be autogenerated or painstakingly researched.
- I occasionally travel and I don't think these times represent that.
- Commits are only taken from the master branch.

That said, I can definitely see patterns, so let's go! Use the checkboxes to filter repos. For some context, I've can broadly categorize my projects into a few types:

- long term, non-Go: `dotfiles`, `journal`, `www.bbkane.com` - these are writing and configuration and grow with me over years (my dotfiles have been around a decade at this point)
- shorter term Go CLI tools - these are mostly CLI tools that I make feature complete and then just update dependencies on.
- the outlier is `warg`, which is 5 years old and written in Go. It's evolved over time because the afore-mentioned CLIs depend on it.

```js
const allRepoNames = Object.keys(repoData)
// const allRepoNames = ["dotfiles", "envelope", "fling", "go-zsh-complete", "grabbit", "journal", "shovel", "starghaze", "taggedmarks", "warg", "www.bbkane.com"];
const filteredRepoNames = view(Inputs.checkbox(
    allRepoNames,
    {label: "Repo", value: allRepoNames},
));
const startDateInput = view(Inputs.date({label: "Start Date"}));
const endDateInput = view(Inputs.date({label: "End Date"}));
```

```js
const startDate = startDateInput == null ? new Date(0) : startDateInput;
const endDate = endDateInput == null ? new Date("2500-01-01") : endDateInput;
```

```js
const filteredCommits = gitCommits.filter(row => {
    const rowTime = new Date(row.commit_time);

    return filteredRepoNames.includes(row.repo_name) && rowTime >= startDate && rowTime <= endDate
});
const filteredCommitTimes = filteredCommits.map(obj => new Date(obj.commit_time));
```

---

<div class="card"">
    ${resize((width) => ct.totalCommits(filteredCommits, {width}))}
</div>

---

<div class="card"">
    ${resize((width) => ct.commitTimes(filteredCommitTimes, {width}))}
</div>

- If viewing on a phone, use the landscape orientation.
- I seem to have a pretty hard stop between 11PM - 5AM - sleeping is fun!
- My most-committed time is 9PM Saturday
- `envelope` was mostly written on Sunday evenings
- I mostly work during the weekends on these. Friday work is mostly due to [inDays](https://www.linkedin.com/blog/member/career/inday-investing-in-our-employees-so-they-can-invest-in-themselves), and I'm very grateful LinkedIn let's me invest in myself one Friday a month.

---

```js
const interval = view(Inputs.select(["day", "week", "month", "3 months"], {value: "3 months", label: "Interval"}));
```

<div class="card">
    ${resize((width) => ct.projectsOverTime(filteredCommits, interval, {width}))}
</div>

- My dotfiles are 10 years old!
- I really up'd my commits when the COVID shutdown started.
- I tend to work on a project for a while and then move on - `taggedmarks`, then `grabbit`, then `fling`, `starghaze`, `shovel`, and `envelope`.
- I've put pretty consistent effort into `dotfiles`, `journal`, and `warg` over several years.

---

<div class="card">
    <h2>Raw data</h2>
    ${Inputs.table(filteredCommits)}
</div>

This table isn't that interesting to look at, but I keep it around for debugging the graphs.
